import{j as x,E as b,C as g,g as k,V as M,c as S,a as _,R as q,u as w,m as D,i as y,f as T,h as C}from"./tsparticles-engine.e4b9023d.js";class E{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing="ease-out-quad"}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.speed!==void 0&&(this.speed=e.speed),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed))}}class V extends E{constructor(){super(),this.selectors=[]}get ids(){return x(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=x(e,o=>`#${o}`)}load(e){super.load(e),e&&(e.ids!==void 0&&(this.ids=e.ids),e.selectors!==void 0&&(this.selectors=e.selectors))}}class H extends E{load(e){super.load(e),e&&(this.divs=x(e.divs,o=>{const i=new V;return i.load(o),i}))}}class I extends b{constructor(e,o){super(o),this._clickRepulse=()=>{const i=this.container,r=i.actualOptions.interactivity.modes.repulse;if(!r)return;const s=i.repulse||{particles:[]};if(s.finish||(s.count||(s.count=0),s.count++,s.count===i.particles.count&&(s.finish=!0)),s.clicking){const t=i.retina.repulseModeDistance;if(!t||t<0)return;const c=Math.pow(t/6,3),a=i.interactivity.mouse.clickPosition;if(a===void 0)return;const n=new g(a.x,a.y,c),l=i.particles.quadTree.query(n,u=>this.isEnabled(u));for(const u of l){const{dx:d,dy:p,distance:f}=k(a,u.position),h=f**2,m=r.speed,O=-c*m/h;if(h<=c){s.particles.push(u);const R=M.create(d,p);R.length=O,u.velocity.setTo(R)}}}else if(s.clicking===!1){for(const t of s.particles)t.velocity.setTo(t.initialVelocity);s.particles=[]}},this._hoverRepulse=()=>{const i=this.container,r=i.interactivity.mouse.position,s=i.retina.repulseModeDistance;!s||s<0||!r||this._processRepulse(r,s,new g(r.x,r.y,s))},this._processRepulse=(i,r,s,t)=>{const c=this.container,a=c.particles.quadTree.query(s,l=>this.isEnabled(l)),n=c.actualOptions.interactivity.modes.repulse;if(n)for(const l of a){const{dx:u,dy:d,distance:p}=k(l.position,i),f=((t==null?void 0:t.speed)??n.speed)*n.factor,h=S(_(n.easing)(1-p/r)*f,0,n.maxSpeed),m=M.create(p===0?f:u/p*h,p===0?f:d/p*h);l.position.addTo(m)}},this._singleSelectorRepulse=(i,r)=>{const s=this.container,t=s.actualOptions.interactivity.modes.repulse;if(!t)return;const c=document.querySelectorAll(i);c.length&&c.forEach(a=>{const n=a,l=s.retina.pixelRatio,u={x:(n.offsetLeft+n.offsetWidth/2)*l,y:(n.offsetTop+n.offsetHeight/2)*l},d=n.offsetWidth/2*l,p=r.type==="circle"?new g(u.x,u.y,d):new q(n.offsetLeft*l,n.offsetTop*l,n.offsetWidth*l,n.offsetHeight*l),f=t.divs,h=w(f,n);this._processRepulse(u,d,p,h)})},this._engine=e,o.repulse||(o.repulse={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,s=r.interactivity.modes.repulse;if(!s||i!=="repulse")return;o.repulse||(o.repulse={particles:[]});const t=o.repulse;t.clicking=!0,t.count=0;for(const c of o.repulse.particles)this.isEnabled(c)&&c.velocity.setTo(c.initialVelocity);t.particles=[],t.finish=!1,setTimeout(()=>{o.destroyed||(t.clicking=!1)},s.duration*1e3)}}clear(){}init(){const e=this.container,o=e.actualOptions.interactivity.modes.repulse;o&&(e.retina.repulseModeDistance=o.distance*e.retina.pixelRatio)}async interact(){const e=this.container,o=e.actualOptions,i=e.interactivity.status===D,r=o.interactivity.events,s=r.onHover,t=s.enable,c=s.mode,a=r.onClick,n=a.enable,l=a.mode,u=r.onDiv;i&&t&&y("repulse",c)?this._hoverRepulse():n&&y("repulse",l)?this._clickRepulse():T("repulse",u,(d,p)=>this._singleSelectorRepulse(d,p))}isEnabled(e){const o=this.container,i=o.actualOptions,r=o.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events,t=s.onDiv,c=s.onHover,a=s.onClick,n=C("repulse",t);if(!(n||c.enable&&r.position||a.enable&&r.clickPosition))return!1;const l=c.mode,u=a.mode;return y("repulse",l)||y("repulse",u)||n}loadModeOptions(e,...o){e.repulse||(e.repulse=new H);for(const i of o)e.repulse.load(i==null?void 0:i.repulse)}reset(){}}async function W(v){await v.addInteractor("externalRepulse",e=>new I(v,e))}export{W as l};
